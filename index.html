<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Nepali Minecraft Community</title>
    <meta name="description" content="Nepali Minecraft Community — connecting Nepali Minecraft players globally. Join our Discord, meet builders, redstoners, and speedrunners." />
    <meta name="theme-color" content="#0a0a0a" />

    <!-- Open Graph -->
    <meta property="og:title" content="Nepali Minecraft Community" />
    <meta property="og:description" content="Connecting Nepali Minecraft players worldwide. Join our Discord, meet builders, redstoners, and speedrunners." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://minecraft.net/favicon.ico" />

    <link rel="icon" href="https://minecraft.net/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root{
            --primary-red: #D32F2F;
            --primary-red-2: #ff5252;
            --bg: #0a0a0a;
            --card: #121212;
            --muted: #B0B0B0;
            --white: #ffffff;
            --gap: 1rem;
            --max-w: 1200px;
        }

        /* Basic reset */
        *,*::before,*::after{box-sizing:border-box}
        html{scroll-behavior:smooth}
        body{
            margin:0;
            font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background:var(--bg);
            color:var(--white);
            line-height:1.5;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
        }

        /* Skip link */
        .skip-link{
            position: absolute;
            left: -999px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
        .skip-link:focus{
            left: 1rem;
            top: 1rem;
            width: auto;
            height: auto;
            padding: 0.5rem 0.75rem;
            background:var(--white);
            color:var(--bg);
            z-index:10000;
            border-radius:6px;
        }

        header {
            position: fixed;
            inset: 0 0 auto 0;
            z-index: 1200;
            backdrop-filter: blur(8px);
            background: linear-gradient(180deg, rgba(10,10,10,0.75), rgba(10,10,10,0.6));
            border-bottom: 1px solid rgba(255,255,255,0.03);
        }

        .nav-inner{
            max-width: var(--max-w);
            margin: 0 auto;
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:var(--gap);
            padding: 0.8rem 1rem;
        }

        .brand{
            display:flex;
            align-items:center;
            gap:0.75rem;
            text-decoration:none;
            color:var(--white);
            font-weight:700;
            font-size:1.15rem;
        }

        .brand svg{width:36px;height:36px;flex:0 0 36px;border-radius:6px; background:linear-gradient(180deg,var(--primary-red),var(--primary-red-2)); box-shadow:0 6px 20px rgba(211,47,47,0.25)}

        nav[aria-label="Main navigation"] ul{
            list-style:none;
            display:flex;
            gap:1.5rem;
            align-items:center;
            margin:0;
            padding:0;
        }

        nav a{
            color:var(--white);
            text-decoration:none;
            font-weight:500;
            padding:0.4rem 0;
            position:relative;
        }

        nav a:focus-visible, a:focus {
            outline:3px solid rgba(211,47,47,0.2);
            outline-offset:3px;
            border-radius:4px;
        }

        nav a::after{
            content:'';
            position:absolute;
            left:50%;
            bottom:-6px;
            transform:translateX(-50%);
            height:3px;
            width:0;
            border-radius:3px;
            background:linear-gradient(90deg,var(--primary-red),var(--primary-red-2));
            transition:width .28s ease;
        }

        nav a:hover::after, nav a[aria-current="page"]::after{
            width:100%;
        }

        /* Hamburger */
        .hamburger {
            display:none;
            width:44px;
            height:44px;
            align-items:center;
            justify-content:center;
            border-radius:8px;
            background:transparent;
            border: none;
            cursor:pointer;
        }
        .hamburger:focus-visible{ outline: 3px solid rgba(211,47,47,0.22); outline-offset:3px }
        .hamburger .lines{
            position:relative;
            width:22px;
            height:14px;
        }
        .hamburger .lines span{
            position:absolute;
            left:0;
            right:0;
            height:2px;
            background:var(--primary-red);
            border-radius:2px;
            transition: transform .28s ease, opacity .2s ease;
            box-shadow:0 6px 18px rgba(211,47,47,0.15)
        }
        .hamburger .lines span:nth-child(1){ top:0 }
        .hamburger .lines span:nth-child(2){ top:6px }
        .hamburger .lines span:nth-child(3){ top:12px }

        .hamburger[aria-expanded="true"] .lines span:nth-child(1){
            transform: translateY(6px) rotate(45deg);
        }
        .hamburger[aria-expanded="true"] .lines span:nth-child(2){
            opacity:0;
        }
        .hamburger[aria-expanded="true"] .lines span:nth-child(3){
            transform: translateY(-6px) rotate(-45deg);
        }

        /* Hero */
        #hero{
            min-height:100vh;
            display:flex;
            align-items:center;
            justify-content:center;
            text-align:center;
            position:relative;
            padding: 0 1rem;
            overflow:hidden;
        }

        .hero-bg {
            position:absolute;
            inset:0;
            background: linear-gradient(45deg,#141428 0%, #0f2a44 40%, #e94560 80%);
            background-size: 400% 400%;
            animation: shift 20s ease infinite;
            z-index:0;
            filter: saturate(.9) contrast(.95);
        }

        @keyframes shift{
            0% { background-position: 0% 50% }
            50% { background-position: 100% 50% }
            100% { background-position: 0% 50% }
        }

        /* Canvas overlay for particles */
        #particleCanvas{
            position:absolute;
            inset:0;
            z-index:1;
            pointer-events:none;
            mix-blend-mode: screen;
        }

        .hero-inner{
            position:relative;
            z-index:2;
            max-width:1000px;
            width:100%;
            margin: 0 auto;
            padding: 6rem 1rem;
            display:flex;
            flex-direction:column;
            gap:1rem;
            align-items:center;
            justify-content:center;
        }

        h1{
            margin:0;
            font-size:clamp(2.4rem,6.5vw,4rem);
            color:var(--primary-red);
            line-height:1.03;
            letter-spacing:-0.02em;
            text-shadow: 0 6px 30px rgba(217,63,63,0.12);
        }

        .tagline{
            margin:0;
            color:var(--muted);
            font-weight:300;
            font-size:clamp(1rem,2.5vw,1.35rem);
        }

        .cta {
            display:inline-flex;
            align-items:center;
            gap:0.6rem;
            padding:0.9rem 1.6rem;
            background:linear-gradient(90deg,var(--primary-red),var(--primary-red-2));
            color:var(--white);
            border-radius:999px;
            text-decoration:none;
            font-weight:600;
            box-shadow:0 18px 40px rgba(217,63,63,0.18);
            transition: transform .18s ease, box-shadow .18s ease;
        }
        .cta:focus-visible{ outline:3px solid rgba(255,255,255,0.08); outline-offset:4px }
        .cta:hover{ transform:translateY(-4px); box-shadow:0 28px 60px rgba(217,63,63,0.25) }
        .cta .chev{ font-weight:700; opacity:0.95 }

        /* footer placeholder */
        footer{
            padding: 3rem 1rem;
            color:var(--muted);
            text-align:center;
            background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
        }

        /* Responsive */
        @media (max-width: 900px){
            nav[aria-label="Main navigation"] ul{ display:none }
            .hamburger{ display:inline-flex }
            .hero-inner{ padding-top:4.5rem; padding-bottom:4.5rem }
        }

        /* Mobile menu (overlay) */
        .mobile-menu{
            position:fixed;
            inset:0;
            z-index:1100;
            display:none;
            align-items:center;
            justify-content:center;
            background: linear-gradient(180deg, rgba(10,10,10,0.9), rgba(10,10,10,0.96));
            padding:2rem;
        }
        .mobile-menu.active{ display:flex }
        .mobile-menu nav ul{
            flex-direction:column;
            gap:1.25rem;
            text-align:center;
            list-style:none;
            padding:0;
            margin:0;
        }
        .mobile-menu nav a{ font-size:1.25rem }

        /* Accessibility and reduced motion */
        @media (prefers-reduced-motion: reduce){
            .hero-bg, #particleCanvas, .hamburger .lines span, .cta, h1 { animation: none !important; transition: none !important }
        }

    </style>
</head>
<body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header>
        <div class="nav-inner" role="toolbar">
            <a class="brand" href="index.html">
                <!-- simple SVG badge for brand -->
                <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false">
                    <rect width="24" height="24" rx="4" fill="url(#g)"/>
                    <defs>
                        <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                            <stop offset="0" stop-color="#D32F2F"/>
                            <stop offset="1" stop-color="#ff5252"/>
                        </linearGradient>
                    </defs>
                    <path d="M7 16v-8h10v8H7z" fill="rgba(255,255,255,0.06)"/>
                    <path d="M9 14h6v-4H9v4z" fill="#fff" opacity="0.9"/>
                </svg>
                Nepali Minecraft
            </a>

            <nav aria-label="Main navigation">
                <ul id="mainNav">
                    <li><a href="index.html#main" aria-current="page">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="community.html">Community</a></li>
                    <li><a href="https://discord.com/invite/Jr4sdK9m" target="_blank" rel="noopener noreferrer">Discord</a></li>
                </ul>
            </nav>

            <!-- accessible hamburger for mobile -->
            <button id="hamburger" class="hamburger" aria-label="Open menu" aria-controls="mobileMenu" aria-expanded="false">
                <span class="lines" aria-hidden="true">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </button>
        </div>
    </header>

    <!-- Mobile menu overlay -->
    <div id="mobileMenu" class="mobile-menu" role="dialog" aria-modal="true" aria-hidden="true">
        <nav aria-label="Mobile navigation">
            <ul>
                <li><a href="index.html#main">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="community.html">Community</a></li>
                <li><a href="https://discord.com/invite/Jr4sdK9m" target="_blank" rel="noopener noreferrer">Join our Discord</a></li>
            </ul>
        </nav>
    </div>

    <main id="main" tabindex="-1">
        <section id="hero" aria-labelledby="hero-title" role="region">
            <div class="hero-bg" aria-hidden="true"></div>
            <canvas id="particleCanvas" aria-hidden="true"></canvas>

            <div class="hero-inner">
                <h1 id="hero-title">Nepali Minecraft Community</h1>
                <p class="tagline">Uniting Nepali Minecraft enthusiasts worldwide — builders, redstoners, modders, and speedrunners welcome.</p>
                <div>
                    <a class="cta" href="https://discord.com/invite/Jr4sdK9m" target="_blank" rel="noopener noreferrer">
                        Join Our Discord <span class="chev" aria-hidden="true">→</span>
                    </a>
                </div>
            </div>
        </section>

        <!-- Example content placeholder -->
        <section aria-label="About" style="max-width:var(--max-w); margin:2rem auto; padding:1rem;">
            <article style="background:var(--card); border-radius:12px; padding:1.25rem; box-shadow: 0 8px 30px rgba(0,0,0,0.5); color:var(--muted)">
                <h2 style="color:var(--white); margin-top:0">Welcome</h2>
                <p>We're building a welcoming place for Nepali-speaking Minecraft players. Use the Discord to find servers, events, and fellow players — whether you're into survival, creative builds, or technical redstone projects.</p>
            </article>
        </section>
    </main>

    <footer>
        <small>© <span id="year"></span> Nepali Minecraft Community · Made with ❤️</small>
    </footer>

    <script>
        // Set year in footer
        document.getElementById('year').textContent = new Date().getFullYear();

        // Mobile menu toggling + keyboard accessibility
        (function(){
            const hamburger = document.getElementById('hamburger');
            const mobileMenu = document.getElementById('mobileMenu');
            const focusableSelector = 'a, button, input, [tabindex]:not([tabindex="-1"])';
            let lastFocused;

            function openMenu(){
                lastFocused = document.activeElement;
                hamburger.setAttribute('aria-expanded','true');
                mobileMenu.classList.add('active');
                mobileMenu.setAttribute('aria-hidden','false');
                // Move focus to first link
                const first = mobileMenu.querySelector(focusableSelector);
                if(first) first.focus();
                document.documentElement.style.overflow = 'hidden';
            }
            function closeMenu(){
                hamburger.setAttribute('aria-expanded','false');
                mobileMenu.classList.remove('active');
                mobileMenu.setAttribute('aria-hidden','true');
                document.documentElement.style.overflow = '';
                if(lastFocused) lastFocused.focus();
            }

            hamburger.addEventListener('click', () => {
                const expanded = hamburger.getAttribute('aria-expanded') === 'true';
                if(expanded) closeMenu(); else openMenu();
            });

            // close on Escape or click outside
            document.addEventListener('keydown', (e) => {
                if(e.key === 'Escape' && mobileMenu.classList.contains('active')) closeMenu();
            });
            mobileMenu.addEventListener('click', (e) => {
                if(e.target === mobileMenu) closeMenu();
            });

            // close menu when a link inside is clicked (mobile)
            mobileMenu.querySelectorAll('a').forEach(a => a.addEventListener('click', closeMenu));
        })();

        // Particle canvas - lightweight, performant, respects prefers-reduced-motion
        (function(){
            const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const canvas = document.getElementById('particleCanvas');
            if(!canvas) return;

            const ctx = canvas.getContext('2d', {alpha: true});
            let width = 0, height = 0, dpr = Math.max(1, window.devicePixelRatio || 1);
            let particles = [];
            const NUM = 28; // small, performant count
            const COLORS = [
                'rgba(255,82,82,0.85)',
                'rgba(211,47,47,0.9)',
                'rgba(255,23,68,0.8)'
            ];

            function resize(){
                width = canvas.clientWidth || window.innerWidth;
                height = canvas.clientHeight || window.innerHeight;
                canvas.width = Math.floor(width * dpr);
                canvas.height = Math.floor(height * dpr);
                canvas.style.width = width + 'px';
                canvas.style.height = height + 'px';
                ctx.setTransform(dpr,0,0,dpr,0,0);
            }

            function rand(min, max){ return Math.random() * (max - min) + min; }

            function initParticles(){
                particles = [];
                for(let i=0;i<NUM;i++){
                    const size = rand(1.5, 8);
                    particles.push({
                        x: rand(0, width),
                        y: rand(height*0.1, height + height*0.6),
                        vx: rand(-0.2, 0.2),
                        vy: rand(-0.15, -0.5),
                        size,
                        color: COLORS[Math.floor(Math.random()*COLORS.length)],
                        alpha: rand(0.12, 0.9),
                        wobble: rand(0.2, 1.2),
                        phase: rand(0, Math.PI*2)
                    });
                }
            }

            function drawParticle(p){
                const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size*7);
                grad.addColorStop(0, p.color.replace(/rgba\((.*)\)/, 'rgba($1)').replace('0.9', p.alpha));
                grad.addColorStop(0.2, p.color.replace(/rgba\((.*)\)/, 'rgba($1)').replace('0.9', (p.alpha*0.66).toString()));
                grad.addColorStop(1, 'rgba(0,0,0,0)');
                ctx.beginPath();
                ctx.fillStyle = grad;
                ctx.arc(p.x, p.y, p.size*6, 0, Math.PI*2);
                ctx.fill();

                // small solid center for intensity
                ctx.beginPath();
                ctx.globalAlpha = Math.min(1, p.alpha * 1.6);
                ctx.fillStyle = p.color;
                ctx.arc(p.x, p.y, Math.max(0.6, p.size/2), 0, Math.PI*2);
                ctx.fill();
                ctx.globalAlpha = 1;
            }

            let then = 0;
            function animate(now){
                if(prefersReduced) return; // don't animate
                const dt = (now - then) / 1000;
                then = now;
                ctx.clearRect(0,0,width,height);

                for(let p of particles){
                    // motion
                    p.x += p.vx * (20 * dt);
                    p.y += p.vy * (28 * dt);
                    p.phase += dt * p.wobble;
                    p.x += Math.sin(p.phase) * 0.25; // slight horizontal wobble

                    // wrap around (spawn below to float upward)
                    if(p.y < -50){ // above top
                        p.y = height + rand(10, height*0.5);
                        p.x = rand(0, width);
                    }
                    if(p.x < -100) p.x = width + 100;
                    if(p.x > width + 100) p.x = -100;

                    drawParticle(p);
                }

                requestAnimationFrame(animate);
            }

            // initialize/responsive
            function start(){
                resize();
                initParticles();
                then = performance.now();
                requestAnimationFrame(animate);
            }
            start();
            window.addEventListener('resize', () => {
                resize();
                initParticles();
            });
        })();

        // Improve keyboard focus outline visibility for users navigating by keyboard
        (function(){
            function handleFirstTab(e){
                if(e.key === 'Tab'){
                    document.body.classList.add('user-is-tabbing');
                    window.removeEventListener('keydown', handleFirstTab);
                }
            }
            window.addEventListener('keydown', handleFirstTab);
        })();
    </script>
</body>
</html>
